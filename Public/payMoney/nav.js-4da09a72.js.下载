!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pages/cashier-v4/index",[],e):"object"==typeof exports?exports["pages/cashier-v4/index"]=e():t["pages/cashier-v4/index"]=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,a;n=[i(1),i(2),i(3),i(4),i(12),i(13),i(14),i(15)],a=function(t,e,i,n,a,o,r,s){var c="s-banklist-item-select",d=".J_banklistItem",l={$el:$("#J_proxy"),listen:function(){var o=this;o.$el.on("click",".J_2step2",function(){var t=$(this),e=t.attr("data-method"),a=t.find("#J_paymethod"),o=t.find(".J_fastpayfst");t.hasClass(c)||a.length>0&&a.is(":visible")||o.length>0&&o.is(":visible")||(r.log("001010024",{payId:i.getPayId(),payType:e}),e&&t.length>0&&n.paymethodShow(e,t))}).on("click",d,function(t){var e=$(this);if(!e.hasClass(c)){var i=o.$el.hasClass("p2p"),n="J_banking";if(!e.hasClass(n)||i){$(d).each(function(t,e){var i=$(e);i.removeClass(c)});var a=e.closest("."+n);i&&a.length&&a.addClass(c);var r=$(".J_banklist");return i&&(e.hasClass(n)?r.slideDown(300):a.length||r.hide()),e.addClass(c),!1}}}).on("click",".J_showPaymethod",function(){var t=$(this);$(".banklist-item").each(function(t,e){var i=$(e);i.removeClass("hide")}),t.hide()}).on("click",".J_icondown",function(){var t=$(this),e=t.siblings(".J_optionlist");return e.hasClass("hide")?o.showCardlist():o.hideCardlist(),!1}).on("click",".J_selectCard2Step2",function(){var t=$(this),e=$(".J_selectedCard"),i=t.parents(".J_2step2"),a=t.siblings("li");if(o.hideCardlist(),o.updatePrice(t),!t.hasClass("option-selected")||$(".J_fastpayfst").is(":visible")||$("#J_fastpay_1st").is(":visible")){a.removeClass("option-selected"),t.addClass("option-selected"),e.html(t.html());for(var r=["data-bankid","data-bindid","data-cardno","data-cn-cardtype","data-phone","data-price","data-redbag","data-showCheckstandBanner"],s=0;s<r.length;s++)"undefined"!==t.attr(r[s])&&i.attr(r[s],t.attr(r[s]));return n.paymethodShow("fastpay_2nd",t),!1}}).on("click",".J_newcard, .J_noCard",function(){var t=$(this),n=t.parents(d);if(!e.islock()){if(r.log("001010024",{payId:i.getPayId(),payType:"fastpay_1st"}),t.hasClass("J_noCard")){var a=t.find("#J_paymethod");if(a.length>0&&a.is(":visible"))return}return o.hideCardlist(),$(".J_fastpayfst").show(300),$("#J_paymethod").hide(),n.siblings(d).removeClass(c),n.addClass(c),!1}}).on("click",".J_payOrder",function(t){t.stopPropagation(),a.submit()}),new t($(".J_cardNoCheck"),$(".J_cardNoCheckTxt"),$(".J_cardNoCheckBtn"),function(t){return isNaN(t.attr("data-cardno"))?void MOGU.alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u94f6\u884c\u5361\u53f7"):(r.log("001010026",{payId:i.getPayId(),payType:"fastpay_1st"}),o.updatePrice(t),t.parents(".J_fastpayfst").hide(),void n.paymethodShow("fastpay_1st",t))})},initTimer:function(){var t=$(".J_cashierTimer"),e=t.attr("data-timer");t.length>0&&(isNaN(e)||(e=+e,e>0&&new o(t,+t.attr("data-timer"),t.attr("data-tpl"))))},showCardlist:function(){$(".J_icondown").addClass("up"),$(".J_optionlist").removeClass("hide")},hideCardlist:function(){$(".J_icondown").removeClass("up"),$(".J_optionlist").addClass("hide")},updatePrice:function(t){var e=t.parents(".J_2step2"),i=e.find(".J_redbag"),n=e.find(".J_finalPrice");i.length>0&&i.html(t.attr("data-redbag")),n.length>0&&n.html(t.attr("data-price"))},init:function(){this.listen(),this.initTimer(),i.init(),n.init(),s.init()}};$(document).ready(function(){l.init()})}.apply(e,n),!(void 0!==a&&(t.exports=a))},function(t,e,i){var n;n=function(){function t(t,e,i,n){this.$inputWrap=t,this.$bankname=t.find(".J_bankName"),this.$numTip=t.find(".J_numTip"),this.$txt=e,this.$btn=i,this.successCB=n,this.init(),this.reset()}var e=19,i=15;return t.prototype.init=function(){var t=this;t.$numTip.on("status:show",function(){t.$numTip.show()}).on("status:hide",function(){t.$numTip.hide()}).on("status:change",function(i,n){t.$numTip.html(n.substr(0,e+4))}),t.$btn.on("status:enable",function(){t.$btn.removeClass("s-btn-confirm-disable")}).on("status:disable",function(){t.$btn.addClass("s-btn-confirm-disable")}).on("click",function(e){e.stopPropagation(),t.$btn.hasClass("s-btn-confirm-disable")||(t.$btn.attr("data-cardno",$.trim(t.$txt.val())),t.successCB&&t.successCB(t.$btn))}),t.$inputWrap.on("click",function(){return t.$txt.trigger("focus"),!1}),t.$txt.on("check:tipshow",function(){var e=t.$txt.val().replace(/\s/g,"").replace(/(\d{4})(?=\d)/g,"$1 ");""===e?t.$numTip.trigger("status:hide"):t.$numTip.trigger("status:show"),t.$numTip.trigger("status:change",[e])}).on("check:btn",function(){var n=t.$txt.val();n.length<=e&&n.length>=i?t.$btn.trigger("status:enable"):t.$btn.trigger("status:disable")}).on("focus",function(){t.$inputWrap.addClass("s-card-txt-focus"),t.$txt.trigger("check:tipshow")}).on("blur",function(){t.$inputWrap.removeClass("s-card-txt-focus"),t.$numTip.trigger("status:hide")}).on("keyup",function(e){return 13===e.keyCode?void t.$btn.trigger("click"):(t.$txt.trigger("check:btn"),void t.$txt.trigger("check:tipshow"))})},t.prototype.reset=function(){var t=this;t.$txt.val(""),t.$btn.addClass("s-btn-confirm-disable"),t.$bankname.html(""),t.$numTip.html("")},t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t=!1,e=0,i='<div class="loading-toast" id="J_loading">\u8bf7\u7a0d\u540e...</div>',n='<div class="light_box_fullbg_light" id="J_loadingMask"></div>',a=null,o=null,r=function(){(null===o||o.length<=0)&&(o=$("#J_loadingMask")),o.length<=0&&(o=$(n),$("body").append(o)),(null===a||a.length<=0)&&(a=$("#J_loading")),a.length<=0&&(a=$(i),$("body").append(a))};return{lock:function(){t=!0},unlock:function(){t=!1},islock:function(){return t},lockCode:function(){$(".banklist-item").not(".s-banklist-item-select").stop().slideUp(300)},unlockCode:function(){},showLoading:function(){r(),clearTimeout(e),e=setTimeout(function(){o.show(),a.show()},500)},hideLoading:function(){r(),clearTimeout(e),o.hide(),a.hide()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t=($(document),$("#J_OrderData")),e="",i="",n="",a="",o="",r="",s=function(){e=t.attr("data-pid"),i=t.attr("data-payid"),n=t.attr("data-orderid"),a=t.attr("data-usemodou"),o=t.attr("data-redirect"),r=t.attr("data-redirectinurl")};return{init:function(){s()},getPid:function(){return e},getPayId:function(){return i},getUseModou:function(){return a},getOrderId:function(){return n},getRedirect:function(){return r?decodeURIComponent(r):o},getExtraInfo:function(t){return $(".J_banklistItem[data-method="+t+"]").data("extrainfo")||""}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,a;n=[i(5),i(2),i(3),i(7),i(10),i(11)],a=function(t,e,i,n,a,o){var r="s-banklist-item-select",s=($(document),$("#J_proxy")),c=($("#J_productPay"),$("#J_paymethod")),d=s.hasClass("p2p"),l=function(t,r,s){switch(t){case"cftPay":case"unionPay":case"overagePay":case"financing":case"mailoPay":case"lianlianpay_2nd":case"lianlianpay_1st":s&&s();break;case"fastpay_1st":e.showLoading(),$.ajax({url:"/ajax/shortcutPayPrePc/1",data:{cardNo:r.attr("data-cardno"),ver:"v2",pid:i.getPid(),modouUse:i.getUseModou(),payId:i.getPayId()},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){s&&s(t)})}).always(function(){e.hideLoading()});break;case"fastpay_2nd":e.showLoading(),$.ajax({url:"/ajax/shortcutPayPrePc/1",data:{bankId:r.attr("data-bankid"),ver:"v2",modouUse:i.getUseModou(),bindId:r.attr("data-bindid"),pid:i.getPid(),payId:i.getPayId(),redirect:a.getQueryString("redirect")},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){t.bankId=r.attr("data-bankid"),t.bindId=r.attr("data-bindid"),t.cardNo=r.attr("data-cardno"),t.cardTypeDesc=r.attr("data-cn-cardtype"),t.mobile=r.attr("data-phone"),s&&s(t)})}).always(function(){e.hideLoading()});break;case"aliPay":e.showLoading(),$.ajax({url:"/ajax/aliPay/pc",data:{payId:i.getPayId(),modouUse:i.getUseModou(),extraInfo:i.getExtraInfo("aliPay"),ver:"v2"},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){s&&s(t)})}).always(function(){e.hideLoading()});break;case"wechatPay":e.showLoading(),$.ajax({url:"/ajax/weChatPay/pc",data:{payId:i.getPayId(),modouUse:i.getUseModou(),extraInfo:i.getExtraInfo("wechatPay")},type:"POST",dataType:"json"}).done(function(t){t.data.pf_async?new o({maxQueryTime:t.data.pf_async.asyncParams.maxQueryLoop||10,errorMsg:t.data.pf_async.asyncParams.timeoutTips||"\u67e5\u8be2\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",isShowLoading:!0,fetch:function(){return $.ajax({url:t.data.pf_async.apiName,type:"GET",dataType:"jsonp",data:{queryParams:t.data.pf_async.asyncParams.params.queryParams}})},successCB:function(t){n.verify(t,function(t){s&&s(t)})}}):n.verify(t,function(t){s&&s(t)})}).always(function(){e.hideLoading()});break;default:e.unlock()}},u=function(){t.wechatPay.stopPoll(),t.aliPay.stopPoll(),t.fastpay_1st.fn_c.stopSmsPoll(),t.fastpay_1st.fn_c.stopPayPoll(),t.fastpay_1st.fn_d.stopSmsPoll(),t.fastpay_1st.fn_d.stopPayPoll(),t.fastpay_2nd.stopSmsPoll(),t.fastpay_2nd.stopPayPoll(),$(".J_fastpayfst").hide(),$(".J_optionlist").addClass("hide"),$(".J_icondown").removeClass("up")},f=function(i,n){var a,o;if(t[i]&&!e.islock()){switch(a=t[i],e.lock(),u(),o=c.find(".J_paytabMain_normal"),i){case"overagePay":case"financing":case"mailoPay":case"fastpay_1st":case"fastpay_2nd":c.addClass("theme-light");break;default:c.removeClass("theme-light")}l(i,n,function(s){var l=n,u=n.parents(".J_banklistItem");n.hasClass("J_selectCard2Step2")?u.hasClass(r)||(c.hide(),$(".J_banklistItem").removeClass(r),u.addClass(r)):c.hide(),u.length>0&&(n=u);for(var f in t)o.removeClass("fn-"+f);return o.addClass("fn-"+i),a.init(s),d&&l.hasClass("J_banking")?void e.unlock():(n.append(c),c.find(".J_paytabMain").show(),void c.stop().slideDown(300,function(){e.unlock()}))})}},p=function(){var t=$(".J_banklistItem").filter('[data-init="true"]').eq(0);if(t.length>0){var e=t.attr("data-method");t.addClass(r),f(e,t)}};return{init:function(){p()},paymethodShow:function(t,e){f(t,e)},paymethodHide:function(){u()}}}.apply(e,n),!(void 0!==a&&(t.exports=a))},function(t,e,i){var n,a;n=[i(3),i(6),i(2),i(7),i(8),i(9),i(10)],a=function(t,e,i,n,a,o,r){var s=$("#J_paymethod"),c=$("#J_fastpay_1st");return{cftPay:{init:function(t){}},unionPay:{init:function(t){}},overagePay:{smsbtn:null,isinit:!1,$el:null,notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},submit:function(){if(!i.islock()){var e=this;i.lock(),e.notice("");var o=n.prasekvObj(e.$el.serializeArray());if(""===o.verifyCode)return e.notice("\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();if(!a.validSmsCode(o.verifyCode))return e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();o.extraInfo=t.getExtraInfo("overagePay"),o.payId=t.getPayId(),o.modouUse=t.getUseModou(),i.showLoading(),window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:"overagePay"}),$.ajax({url:"/ajax/pcOveragePay/pc",data:o,type:"POST",dataType:"json"}).done(function(i){n.verify(i,function(e){var i=t.getRedirect();location.href=i},e.notice,e)}).always(function(){i.hideLoading()})}},initEvent:function(){var t=this;t.$el.on("click",".J_submit",function(e){e.stopPropagation(),t.submit.call(t)}).on("submit",function(e){e.preventDefault(),t.submit.call(t)}).on("click",".J_smscode",function(t){t.stopPropagation()})},init:function(a){var o=this;o.isinit||(o.$el=$("#J_yu_eForm"),o.smsbtn=new e(o.$el.find(".J_smsBtn").eq(0),function(){o.notice(""),i.lock(),window.logger&&logger.log("001010025",{payId:t.getPayId(),payType:"overagePay"}),$.ajax({url:"/ajax/smsNotify/pc",data:{payId:t.getPayId(),type:"overage"},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){o.notice(t.msg)},o.notice,o,function(t){o.smsbtn.retry()})}).always(function(){i.unlock()})}),o.initEvent(),o.isinit=!0),o.$el.find(".J_smscode").val(""),o.notice("")}},financing:{smsbtn:null,isinit:!1,$el:null,notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},submit:function(){if(!i.islock()){var e=this;i.lock(),e.notice("");var o=n.prasekvObj(e.$el.serializeArray());if(""===o.verifyCode)return e.notice("\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();if(!a.validSmsCode(o.verifyCode))return e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();o.extraInfo=t.getExtraInfo("financing"),o.payId=t.getPayId(),o.modouUse=t.getUseModou(),i.showLoading(),window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:"financing"}),$.ajax({url:"/ajax/pcFundPay/V1",data:o,type:"POST",dataType:"json"}).done(function(i){n.verify(i,function(e){var i=t.getRedirect();location.href=i},e.notice,e)}).always(function(){i.hideLoading()})}},initEvent:function(){var t=this;t.$el.on("click",".J_submit",function(){t.submit.call(t)}).on("submit",function(e){e.preventDefault(),t.submit.call(t)})},init:function(a){var o=this;o.isinit||(o.$el=$("#J_fundForm"),o.smsbtn=new e(o.$el.find(".J_smsBtn").eq(0),function(){o.notice(""),i.lock(),window.logger&&logger.log("001010025",{payId:t.getPayId(),payType:"financing"}),$.ajax({url:"/ajax/smsNotify/pc",data:{payId:t.getPayId(),type:"financing"},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){o.notice(t.msg)},o.notice,o,function(t){o.smsbtn.retry()})}).always(function(){i.unlock()})}),o.initEvent(),o.isinit=!0),o.$el.find(".J_smscode").val(""),o.notice("")}},mailoPay:{smsbtn:null,isinit:!1,$el:null,timer:0,isNeedSignProtocol:!1,startPoll:function(){!function e(i){clearTimeout(i.timer),i.timer=setTimeout(function(){$.ajax({url:"/ajax/ResultPoll/pc",data:{payId:t.getPayId()},type:"POST",dataType:"json"}).done(function(a){n.verify(a,function(n){switch(n.result){case"2":var a=t.getRedirect();location.href=a;break;case"1":MoGu.alert("\u652f\u4ed8\u5931\u8d25"),i.stopPoll();break;default:e(i)}})})},500)}(this)},stopPoll:function(){clearTimeout(this.timer)},notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},submit:function(){if(!i.islock()){var e=this;i.lock(),e.notice("");var o=n.prasekvObj(e.$el.serializeArray());if(""===o.verifyCode)return e.notice("\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();if(!a.validSmsCode(o.verifyCode))return e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();if(e.isNeedSignProtocol&&!o.bfmProtocolChecked)return e.notice("\u4f7f\u7528\u767d\u4ed8\u7f8e\u652f\u4ed8\u9700\u8981\u52fe\u9009\u534f\u8bae\u54e6~",!0),void i.unlock();o.extraInfo=t.getExtraInfo("mailoPay"),o.payId=t.getPayId(),o.modouUse=t.getUseModou(),e.isNeedSignProtocol&&(o.timestamp=parseInt((new Date).getTime()/1e3),o.protocolEncrypt="PAY_CASHIER_NO_SIGN"),i.showLoading();var s=r.getQueryString("source");s=s?"?source="+s:"",window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:"mailoPay"}),$.ajax({url:"/ajax/pcMaibeiPay/V1"+s,data:o,type:"POST",dataType:"json"}).done(function(i){n.verify(i,function(i){if(i.type)e.startPoll();else{var n=t.getRedirect();location.href=n}},e.notice,e)}).always(function(){i.hideLoading()})}},initEvent:function(){var e=this;e.$el.on("click",".J_submit",function(){e.submit.call(e)}).on("submit",function(t){t.preventDefault(),e.submit.call(e)}).on("click",".J_bfmProtocolChecked",function(){window.logger&&logger.log("001010038",{payId:t.getPayId()})}).on("click",".J_bfmProtocolUrlA",function(){window.logger&&logger.log("001010036",{payId:t.getPayId()})}).on("click",".J_bfmProtocolUrlB",function(){window.logger&&logger.log("001010036",{payId:t.getPayId()})})},init:function(a){var o=this;if(!o.isinit){o.$el=$("#J_mailoForm");var r=$(".J_isNeedSignProtocol").val();o.isNeedSignProtocol="true"==r,o.isNeedSignProtocol&&(o.$el.find(".J_bfmProtocol").show(),o.$el.find(".J_bfmProtocolUrlA").attr("href",$(".J_protocolUrlA").val()),o.$el.find(".J_bfmProtocolUrlB").attr("href",$(".J_protocolUrlB").val())),o.smsbtn=new e(o.$el.find(".J_smsBtn").eq(0),function(){o.notice(""),i.lock(),window.logger&&logger.log("001010025",{payId:t.getPayId(),payType:"mailoPay"}),$.ajax({url:"/ajax/smsNotify/pc",data:{payId:t.getPayId(),type:"baifumei"},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){o.notice(t.msg)},o.notice,o,function(t){o.smsbtn.retry()})}).always(function(){i.unlock()})}),o.initEvent(),o.isinit=!0}o.$el.find(".J_smscode").val(""),o.notice("")}},fastpay_1st:{fn_c:{isinit:!1,smsbtn:null,seed:null,$el:null,smsTimer:0,startSmsPoll:function(e,a){!function o(a,r,s){return clearTimeout(a.smsTimer),e--<0?void MOGU.alert("\u77ed\u4fe1\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"):void(a.smsTimer=setTimeout(function(){$.ajax({url:"/ajax/shortcutPayResultQueryPc/1",data:{type:"sms",payId:t.getPayId(),outPayId:r.outPayId},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(e){switch(e.status){case 1:a.smsCB(t);break;default:o(a,r,e.queryDelay)}},a.notice,a,function(){a.smsbtn.retry(),i.hideLoading()})})},s||500))}(this,a)},stopSmsPoll:function(){clearTimeout(this.smsTimer),i.unlockCode()},payTimer:0,startPayPoll:function(e,a){!function o(a,r,s){return clearTimeout(a.payTimer),e--<0?void MOGU.alert("\u652f\u4ed8\u7ed3\u679c\u67e5\u8be2\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b\u8ba2\u5355\u652f\u4ed8\u7ed3\u679c"):void(a.payTimer=setTimeout(function(){$.ajax({url:"/ajax/shortcutPayResultQueryPc/1",data:{type:"pay",payId:t.getPayId(),outPayId:r.outPayId},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(e){switch(e.status){case 1:a.submitCB(t);break;default:o(a,r,e.queryDelay)}},a.notice,a,function(){i.hideLoading()})})},s||500))}(this,a)},stopPayPoll:function(){clearTimeout(this.payTimer),i.unlockCode()},notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},smsCB:function(t){var e=this;n.verify(t,function(t){c.find(".J_tradeMark").val(t.tradeMark),e.notice(t.smsChannel)},e.notice,e,function(){e.smsbtn.retry()})},submitCB:function(e){var a=this;i.hideLoading(),n.verify(e,function(e){var i=t.getRedirect();location.href=i},a.notice,a)},submit:function(){if(!i.islock()){var e=this;i.lock(),e.notice("");var r=n.prasekvObj(e.$el.serializeArray());if(""===r.effectMonth)return e.notice("\u8bf7\u9009\u62e9\u6709\u6548\u671f",!0),void i.unlock();if(""===r.effectYear)return e.notice("\u8bf7\u9009\u62e9\u6709\u6548\u671f",!0),void i.unlock();if(""===r.secNo||isNaN(r.secNo))return e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5361\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=secNo]").trigger("focus"),void i.unlock();if(e.$el.find("input[name=cardHolderName]:visible").length>0){if(!a.validName(r.cardHolderName))return e.notice("\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d",!0),e.$el.find("input[name=cardHolderName]").trigger("focus"),void i.unlock();if(!a.validIDCard(r.certNo))return e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7",!0),e.$el.find("input[name=certNo]").trigger("focus"),void i.unlock()}return a.validMobile(r.mobile)?""===r.verifyCode?(e.notice("\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock()):a.validSmsCode(r.verifyCode)?void o.getSrandNum(function(a){e.seed=a.result&&a.result.seed,r.cardNo=o.encrypt(e.seed,r.cardNo),r.effectMonth=o.encrypt(e.seed,r.effectMonth),r.effectYear=o.encrypt(e.seed,r.effectYear),r.secNo=o.encrypt(e.seed,r.secNo),e.$el.find("input[name=cardHolderName]:visible").length>0&&(r.cardHolderName=o.encrypt(e.seed,r.cardHolderName),r.certNo=o.encrypt(e.seed,r.certNo)),r.mobile=o.encrypt(e.seed,r.mobile),r.seed=e.seed,r.pid=t.getPid(),r.payId=t.getPayId(),r.modouUse=t.getUseModou(),r.orderId=t.getOrderId(),r.extraInfo=t.getExtraInfo("fastpay_1st"),i.showLoading(),window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:"fastpay_1st"}),$.ajax({url:"/ajax/shortcutPayConfirmPc/1",data:r,type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){e.startPayPoll(t.maxQueryCount,r)},e.notice,e,function(){i.hideLoading()})})}):(e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock()):(e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7559\u5b58\u624b\u673a\u53f7",!0),e.$el.find("input[name=mobile]").trigger("focus"),void i.unlock())}},initEvent:function(){var t=this;t.$el.on("click",".J_submit",function(){$(this).hasClass("s-btn-pay-disable")||t.submit.call(t)}),t.$el.on("click","#agree-1stc",function(){$(this).prop("checked")?t.$el.find(".J_submit").removeClass("s-btn-pay-disable"):t.$el.find(".J_submit").addClass("s-btn-pay-disable")})},init:function(){var r=this;r.isinit||(r.$el=$("#J_fastpay1st_cForm"),r.smsbtn=new e(r.$el.find(".J_smsBtn").eq(0),function(){r.notice(""),i.lock(),window.logger&&logger.log("001010025",{payId:t.getPayId(),payType:"fastpay_1st"});var e=n.prasekvObj(r.$el.serializeArray());if(""===e.effectMonth)return r.notice("\u8bf7\u9009\u62e9\u6709\u6548\u671f",!0),r.smsbtn.retry(),void i.unlock();if(""===e.effectYear)return r.notice("\u8bf7\u9009\u62e9\u6709\u6548\u671f",!0),r.smsbtn.retry(),void i.unlock();if(""===e.secNo||isNaN(e.secNo))return r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5361\u9a8c\u8bc1\u7801",!0),r.$el.find("input[name=secNo]").trigger("focus"),r.smsbtn.retry(),void i.unlock();if(r.$el.find("input[name=cardHolderName]:visible").length>0){if(!a.validName(e.cardHolderName))return r.notice("\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d",!0),r.$el.find("input[name=cardHolderName]").trigger("focus"),r.smsbtn.retry(),void i.unlock();if(!a.validIDCard(e.certNo))return r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7",!0),r.$el.find("input[name=certNo]").trigger("focus"),r.smsbtn.retry(),void i.unlock()}return a.validMobile(e.mobile)?void o.getSrandNum(function(t){r.seed=t.result&&t.result.seed,e.effectMonth=o.encrypt(r.seed,e.effectMonth),e.effectYear=o.encrypt(r.seed,e.effectYear),e.secNo=o.encrypt(r.seed,e.secNo),r.$el.find("input[name=cardHolderName]:visible").length>0&&(e.cardHolderName=o.encrypt(r.seed,e.cardHolderName),e.certNo=o.encrypt(r.seed,e.certNo)),e.mobile=o.encrypt(r.seed,e.mobile),e.cardNo=o.encrypt(r.seed,e.cardNo),e.ver=2,e.seed=r.seed,$.ajax({url:"/ajax/shortcutPaySmsPc/1",data:e,type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){r.startSmsPoll(t.maxQueryCount,e)},r.notice,r,function(t){r.smsbtn.retry()})}).always(function(){i.unlock()})}):(r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7559\u5b58\u624b\u673a\u53f7",!0),r.$el.find("input[name=mobile]").trigger("focus"),r.smsbtn.retry(),void i.unlock())}),r.initEvent(),r.isinit=!0),r.notice("")}},fn_d:{isinit:!1,smsbtn:null,seed:null,$el:null,smsTimer:0,startSmsPoll:function(e,a){!function o(a,r,s){return clearTimeout(a.smsTimer),e--<0?void MOGU.alert("\u77ed\u4fe1\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"):void(a.smsTimer=setTimeout(function(){$.ajax({url:"/ajax/shortcutPayResultQueryPc/1",data:{type:"sms",payId:t.getPayId(),outPayId:r.outPayId},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(e){switch(e.status){case 1:a.smsCB(t);break;default:o(a,r,e.queryDelay)}},a.notice,a,function(){a.smsbtn.retry(),i.hideLoading()})})},s||500))}(this,a)},stopSmsPoll:function(){clearTimeout(this.smsTimer),i.unlockCode()},payTimer:0,startPayPoll:function(e,a){!function o(a,r,s){return clearTimeout(a.payTimer),e--<0?void MOGU.alert("\u652f\u4ed8\u7ed3\u679c\u67e5\u8be2\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b\u8ba2\u5355\u652f\u4ed8\u7ed3\u679c"):void(a.payTimer=setTimeout(function(){$.ajax({url:"/ajax/shortcutPayResultQueryPc/1",data:{type:"pay",payId:t.getPayId(),outPayId:r.outPayId},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(e){switch(e.status){case 1:a.submitCB(t);break;default:o(a,r,e.queryDelay)}},a.notice,a,function(){i.hideLoading()})})},s||500))}(this,a)},stopPayPoll:function(){clearTimeout(this.payTimer),i.unlockCode()},notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},smsCB:function(t){var e=this;n.verify(t,function(t){c.find(".J_tradeMark").val(t.tradeMark),e.notice(t.smsChannel)},e.notice,e,function(t){e.smsbtn.retry()})},submitCB:function(e){var a=this;i.hideLoading(),n.verify(e,function(e){var i=t.getRedirect();location.href=i},a.notice,a)},submit:function(){if(!i.islock()){var e=this;i.lock(),e.notice("");var r=n.prasekvObj(e.$el.serializeArray());if(e.$el.find("input[name=cardHolderName]:visible").length>0){if(!a.validName(r.cardHolderName))return e.notice("\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d",!0),e.$el.find("input[name=cardHolderName]").trigger("focus"),void i.unlock();if(!a.validIDCard(r.certNo))return e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7",!0),e.$el.find("input[name=certNo]").trigger("focus"),void i.unlock()}return a.validMobile(r.mobile)?""===r.verifyCode?(e.notice("\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock()):a.validSmsCode(r.verifyCode)?void o.getSrandNum(function(a){e.seed=a.result&&a.result.seed,r.cardNo=o.encrypt(e.seed,r.cardNo),e.$el.find("input[name=cardHolderName]:visible").length>0&&(r.cardHolderName=o.encrypt(e.seed,r.cardHolderName),r.certNo=o.encrypt(e.seed,r.certNo)),r.mobile=o.encrypt(e.seed,r.mobile),r.seed=e.seed,r.pid=t.getPid(),r.payId=t.getPayId(),r.modouUse=t.getUseModou(),r.orderId=t.getOrderId(),r.extraInfo=t.getExtraInfo("fastpay_1st"),i.showLoading(),window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:"fastpay_1st"}),$.ajax({url:"/ajax/shortcutPayConfirmPc/1",data:r,type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){e.startPayPoll(t.maxQueryCount,r)},e.notice,e,function(){i.hideLoading()})})}):(e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),e.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock()):(e.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7559\u5b58\u624b\u673a\u53f7",!0),e.$el.find("input[name=mobile]").trigger("focus"),void i.unlock())}},initEvent:function(){var t=this;t.$el.on("click",".J_submit",function(){$(this).hasClass("s-btn-pay-disable")||t.submit.call(t)}),t.$el.on("click","#agree-1std",function(){$(this).prop("checked")?t.$el.find(".J_submit").removeClass("s-btn-pay-disable"):t.$el.find(".J_submit").addClass("s-btn-pay-disable")})},init:function(){var r=this;r.isinit||(r.$el=$("#J_fastpay1st_dForm"),r.smsbtn=new e(r.$el.find(".J_smsBtn").eq(0),function(){r.notice(""),i.lock(),window.logger&&logger.log("001010025",{payId:t.getPayId(),payType:"fastpay_1st"});var e=n.prasekvObj(r.$el.serializeArray());if(r.$el.find("input[name=cardHolderName]:visible").length>0){if(!a.validName(e.cardHolderName))return r.notice("\u8bf7\u8f93\u5165\u771f\u5b9e\u59d3\u540d",!0),r.$el.find("input[name=cardHolderName]").trigger("focus"),r.smsbtn.retry(),void i.unlock();if(!a.validIDCard(e.certNo))return r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7",!0),r.$el.find("input[name=certNo]").trigger("focus"),r.smsbtn.retry(),void i.unlock()}return a.validMobile(e.mobile)?void o.getSrandNum(function(t){r.seed=t.result&&t.result.seed,r.$el.find("input[name=cardHolderName]:visible").length>0&&(e.cardHolderName=o.encrypt(r.seed,e.cardHolderName),e.certNo=o.encrypt(r.seed,e.certNo)),e.mobile=o.encrypt(r.seed,e.mobile),e.cardNo=o.encrypt(r.seed,e.cardNo),e.ver=2,e.seed=r.seed,$.ajax({url:"/ajax/shortcutPaySmsPc/1",data:e,type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(t){r.startSmsPoll(t.maxQueryCount,e)},r.notice,r,function(t){r.smsbtn.retry()})}).always(function(){i.unlock()})}):(r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7559\u5b58\u624b\u673a\u53f7",!0),r.$el.find("input[name=mobile]").trigger("focus"),r.smsbtn.retry(),void i.unlock())}),r.initEvent(),r.isinit=!0),r.notice("")}},init:function(t){var e=$(".J_fastpay_1st_form"),i=this;switch($(".J_cardNoCheckTxt").val(""),$(".J_cardNoCheckBtn").addClass("s-btn-confirm-disable"),s.find(".J_logo").attr("src","//www.mogujie.com/img/bank/"+t.bankId+".jpg"),c.find(".J_cn_cardtype").html(t.cardTypeDesc),c.find(".J_bankid").val(t.bankId),c.find(".J_cardno").val(t.cardNo),c.find(".J_cardType").val(t.cardType),c.find(".J_cardno_dis").html(t.cardNo),c.find(".J_outPayId").val(t.outPayId),c.find(".J_tradeMark").val(t.tradeMark),c.find(".J_extendInfo").val(t.extendInfo),t.cardHolderName?(c.find(".J_name_dis").html(t.cardHolderName).show(),c.find(".J_name").hide(),c.find(".J_idCard_dis").html(t.certNo).show(),c.find(".J_idcard").hide()):(c.find(".J_name_dis").html("").hide(),c.find(".J_name").show(),c.find(".J_idCard_dis").html("").hide(),c.find(".J_idcard").show()),c.find(".J_name").val(""),c.find(".J_idcard").val(""),c.find(".J_phone").val(""),c.find(".J_smscode").val(""),c.find(".J_cardcode").val(""),c.find(".J_cardDM").val(""),c.find(".J_cardDY").val(""),e.hide(),e.filter('[data-type="cardType'+t.cardType+'"]').show(),t.cardType){case 2:i.fn_c.init(t);break;case 1:i.fn_d.init(t)}}},fastpay_2nd:{smsbtn:null,isinit:!1,$el:null,seed:null,smsTimer:0,startSmsPoll:function(e,a){!function o(a,r,s){return clearTimeout(a.smsTimer),e--<0?void MOGU.alert("\u77ed\u4fe1\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"):void(a.smsTimer=setTimeout(function(){$.ajax({url:"/ajax/shortcutPayResultQueryPc/1",data:{type:"sms",payId:t.getPayId(),outPayId:r.outPayId},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(e){switch(e.status){case 1:a.smsCB(t);break;default:o(a,r,e.queryDelay)}},a.notice,a,function(){a.smsbtn.retry(),i.hideLoading()})})},s||500))}(this,a)},stopSmsPoll:function(){clearTimeout(this.smsTimer),i.unlockCode()},payTimer:0,startPayPoll:function(e,a){!function o(a,r,s){return clearTimeout(a.payTimer),e--<0?void MOGU.alert("\u652f\u4ed8\u7ed3\u679c\u67e5\u8be2\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b\u8ba2\u5355\u652f\u4ed8\u7ed3\u679c"):void(a.payTimer=setTimeout(function(){$.ajax({url:"/ajax/shortcutPayResultQueryPc/1",data:{type:"pay",payId:t.getPayId(),outPayId:r.outPayId},type:"POST",dataType:"json"}).done(function(t){n.verify(t,function(e){switch(e.status){case 1:a.submitCB(t);break;default:o(a,r,e.queryDelay)}},a.notice,a,function(){i.hideLoading()})})},s||500))}(this,a)},stopPayPoll:function(){clearTimeout(this.payTimer),i.unlockCode()},notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},submit:function(){function e(t){$.ajax({url:"/ajax/shortcutPayConfirmPc/1",data:t,type:"POST",dataType:"json"}).done(function(e){n.verify(e,function(e){r.startPayPoll(e.maxQueryCount,t)},r.notice,r,function(){i.hideLoading()})})}if(!i.islock()){var r=this;i.lock(),r.notice("");var s=n.prasekvObj(r.$el.serializeArray());if(r.needCvvCode&&(""===s.secNo||isNaN(s.secNo)))return r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5361\u9a8c\u8bc1\u7801",!0),r.$el.find("input[name=secNo]").trigger("focus"),void i.unlock();if(""===s.verifyCode)return r.notice("\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),
r.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();if(!a.validSmsCode(s.verifyCode))return r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801",!0),r.$el.find("input[name=verifyCode]").trigger("focus"),void i.unlock();s.pid=t.getPid(),s.payId=t.getPayId(),s.modouUse=t.getUseModou(),s.orderId=t.getOrderId(),i.showLoading(),window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:"fastpay_2nd"}),r.needCvvCode?o.getSrandNum(function(t){r.seed=t.result&&t.result.seed,s.secNo=o.encrypt(r.seed,s.secNo),e(s)}):(delete s.secNo,e(s))}},initEvent:function(){var t=this;t.$el.on("click",".J_submit",function(){t.submit.call(t)}).on("submit",function(e){e.preventDefault(),t.submit.call(t)})},smsCB:function(t){var e=this;n.verify(t,function(t){e.$el.find(".J_tradeMark").val(t.tradeMark),e.notice(t.smsChannel)},e.notice,e,function(t){e.smsbtn.retry()})},submitCB:function(e){var a=this;i.hideLoading(),n.verify(e,function(e){var i=t.getRedirect();location.href=i},a.notice,a)},init:function(a){var r=this;r.isinit||(r.$el=$("#J_fastpay2ndForm")),s.find(".J_logo").attr("src","//www.mogujie.com/img/bank/"+a.bankId+".jpg"),r.$el.find(".J_logo").attr("src","//www.mogujie.com/img/bank/"+a.bankId+".jpg"),r.$el.find(".J_cardno").html(a.cardNo),r.$el.find(".J_phone").html(a.mobile),r.$el.find(".J_bindId").val(a.bindId),r.$el.find(".J_outPayId").val(a.outPayId),r.$el.find(".J_tradeMark").val(a.tradeMark),r.$el.find(".J_extendInfo").val(a.extendInfo),r.$el.find(".J_cn_cardtype").html(a.cardTypeDesc),r.$el.find(".J_smscode").val(""),r.notice(""),r.needCvvCode=!1,r.$el.find(".J_needCvv").hide(),a.needCvvCode&&(r.$el.find(".J_needCvv").show(),r.needCvvCode=!0),r.isinit||(r.smsbtn=new e(r.$el.find(".J_smsBtn").eq(0),function(){function e(t){$.ajax({url:"/ajax/shortcutPaySmsPc/1",data:t,type:"POST",dataType:"json"}).done(function(e){n.verify(e,function(e){r.startSmsPoll(e.maxQueryCount,t)},r.notice,r,function(t){r.smsbtn.retry()})}).always(function(){i.unlock()})}r.notice(""),i.lock(),window.logger&&logger.log("001010025",{payId:t.getPayId(),payType:"fastpay_2nd"});var a=n.prasekvObj(r.$el.serializeArray());if(a.extraInfo=t.getExtraInfo("fastpay_2nd"),r.needCvvCode){if(""===a.secNo||isNaN(a.secNo))return r.notice("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5361\u9a8c\u8bc1\u7801",!0),r.$el.find("input[name=secNo]").trigger("focus"),r.smsbtn.retry(),void i.unlock();o.getSrandNum(function(t){r.seed=t.result&&t.result.seed,a.secNo=o.encrypt(r.seed,a.secNo),e(a)})}else delete a.secNo,e(a)}),r.initEvent(),r.isinit=!0)}},wechatPay:{timer:0,startPoll:function(){!function e(i){clearTimeout(i.timer),i.timer=setTimeout(function(){$.ajax({url:"/ajax/ResultPoll/pc",data:{payId:t.getPayId()},type:"POST",dataType:"json"}).done(function(a){n.verify(a,function(n){switch(n.result){case"2":var a=t.getRedirect();location.href=a;break;case"1":MoGu.alert("\u652f\u4ed8\u5931\u8d25");break;default:e(i)}})})},2e3)}(this)},stopPoll:function(){clearTimeout(this.timer),i.unlockCode()},init:function(t){s.find(".J_wechatCode").attr("src",t.codeUrl),this.startPoll()}},aliPay:{timer:0,startPoll:function(){!function e(i){clearTimeout(i.timer),i.timer=setTimeout(function(){$.ajax({url:"/ajax/ResultPoll/pc",data:{payId:t.getPayId()},type:"POST",dataType:"json"}).done(function(a){n.verify(a,function(n){switch(n.result){case"2":var a=t.getRedirect();location.href=a;break;case"1":MoGu.alert("\u652f\u4ed8\u5931\u8d25");break;default:e(i)}})})},500)}(this)},stopPoll:function(){clearTimeout(this.timer),i.unlockCode(),s.find(".J_alipayCode").attr("src","")},init:function(t){s.find(".J_alipayCode").attr("src",t.aliQrUrl),s.find(".J_alipayLink").attr("href",t.aliPcUrl),this.startPoll()}},lianlianpay_2nd:{init:function(){}},lianlianpay_1st:{init:function(){}}}}.apply(e,n),!(void 0!==a&&(t.exports=a))},function(t,e,i){var n;n=function(){function t(t,e){if(!(t.length<=0)){var i=t.data("time");this.$el=t,this.time=!isNaN(i)&&+i>0?i:0,this.timer=0,this.wait=60,this.enable=!1,this.clickcb=e,this.enableClass="btn-sms-enable",this.normalHTML="\u53d1\u9001\u77ed\u4fe1",this.retryHTML="\u91cd\u65b0\u53d1\u9001\u77ed\u4fe1",this.timerHTML="<span>%s</span> \u79d2\u540e\u91cd\u65b0\u83b7\u53d6",this.init()}}return t.prototype.init=function(){this.time>0?(this.run(),this.clickcb&&this.clickcb()):this.reset();var t=this;this.$el.on("click",function(e){e.preventDefault(),t.$el.hasClass("btn-sms-enable")&&(t.time=t.wait,t.run(),t.clickcb&&t.clickcb())})},t.prototype.run=function(){this.enable=!1,this.$el.removeClass(this.enableClass),function t(e){e.$el.html(e.timerHTML.replace(/%s/gim,e.time--)),e.time>=0?(clearTimeout(e.timer),e.timer=setTimeout(function(){t(e)},1e3)):e.retry()}(this)},t.prototype.reset=function(){clearTimeout(this.timer),this.enable=!0,this.$el.addClass(this.enableClass).html(this.normalHTML)},t.prototype.retry=function(){clearTimeout(this.timer),this.enable=!0,this.$el.addClass(this.enableClass).html(this.retryHTML),this.time=0},t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,a;n=[i(2)],a=function(t){return{verify:function(e,i,n,a,o){if(e)if(e.success){var r="string"==typeof e.data?JSON.parse(e.data):e.data;r.asyncData?i&&i(r.asyncData):i&&i(r)}else{var s=e.message||"\u672a\u77e5\u9519\u8bef\uff0c\u53ef\u80fd\u7684\u539f\u56e0\uff1a1.\u7f51\u7edc\u95ee\u9898 2.\u670d\u52a1\u5668\u8d85\u65f6 3.\u5176\u4ed6\u539f\u56e0";"231047"==e.returnCode&&MOGU.alert(s,function(){window.location.reload()}),"function"==typeof n?n.call(a,s,!0):MOGU.alert(s),t.unlock(),o&&o(s)}else{var s="\u672a\u77e5\u9519\u8bef\uff0c\u53ef\u80fd\u7684\u539f\u56e0\uff1a1.\u7f51\u7edc\u95ee\u9898 2.\u670d\u52a1\u5668\u8d85\u65f6 3.\u5176\u4ed6\u539f\u56e0";"function"==typeof n?n.call(a,s,!0):MOGU.alert(s),t.unlock()}},prasekvObj:function(t){for(var e={},i=0,n=t.length;n>i;i++)e[t[i].name]=$.trim(t[i].value);return e}}}.apply(e,n),!(void 0!==a&&(t.exports=a))},function(t,e,i){var n;n=function(){"use strict";return{verifyDecimal:function(t,e){if(isNaN(t))return!1;if(null==e||0>e)return!1;t=""+t;var i=t.split(".");return!(i[1]&&!(i[1]&&i[1].length<=e))},validSmsCode:function(t){return!!/^[0-9]{4,6}$/i.test(t)},validQQ:function(t){return!!/^[0-9]{5,10}$/i.test(t)},validMobile:function(t){return!!/^0?[1][34578][0-9]{9}$/i.test(t)},validName:function(t){return/^[\u4E00-\u9FA5\uf900-\ufa2d\\xb7]{2,30}$/i.test(t)?-1===t.indexOf("\xb7")||!this._equalStr(t):!1},validIDCard:function(t){if(!/^\d{17}(\d|x)$/i.test(t)&&!/^\d{15}$/i.test(t))return!1;var e=parseInt(t.substr(0,2));if(11>e||e>91)return!1;var i=18==t.length?t:t.substr(0,6)+"19"+t.substr(6,15),n=i.substr(6,8);if(!this._isDate(n,"yyyyMMdd"))return!1;if(18==t.length){for(var t=t.replace(/x$/i,"a"),a=0,o=17;o>=0;o--)a+=Math.pow(2,o)%11*parseInt(t.charAt(17-o),11);if(a%11!=1)return!1}return!0},_isDate:function(t,e){var i="MM",n="dd",a="yyyy",o="^"+e.replace(a,"\\d{4}").replace(i,"\\d{2}").replace(n,"\\d{2}")+"$";if(!new RegExp(o).test(t))return!1;var r=t.substr(e.indexOf(a),4),s=t.substr(e.indexOf(i),2),c=t.substr(e.indexOf(n),2),d=new Date(this._format("%s/%s/%s",[r,s,c]));return parseInt(s,10)==1+d.getMonth()&&parseInt(c,10)==d.getDate()&&parseInt(r,10)==d.getFullYear()},_format:function(t,e){e=e||[];for(var i=t,n=0;n<e.length;n++)i=i.replace(/%s/,e[n]);return i},_equalStr:function(t){for(var e=!0,i=t.charAt(0),n=0;n<t.length;n++)if(i!==t.charAt(n)){e=!1;break}return e}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,a,o;!(n=function(){var t=t||function(t,e){var i={},n=i.lib={},a=function(){},o=n.Base={extend:function(t){a.prototype=this;var e=new a;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=n.WordArray=o.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var a=0;t>a;a++)e[n+a>>>2]|=(i[a>>>2]>>>24-8*(a%4)&255)<<24-8*((n+a)%4);else if(65535<i.length)for(a=0;t>a;a+=4)e[n+a>>>2]=i[a>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-8*(i%4),e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],n=0;e>n;n+=4)i.push(4294967296*t.random()|0);return new r.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;t>n;n++){var a=e[n>>>2]>>>24-8*(n%4)&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;e>n;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-4*(n%8);return new r.init(i,e/2)}},d=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;t>n;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-8*(n%4)&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;e>n;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-8*(n%4);return new r.init(i,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,a=i.sigBytes,o=this.blockSize,s=a/(4*o),s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0);if(e=s*o,a=t.min(4*e,a),e){for(var c=0;e>c;c+=o)this._doProcessBlock(n,c);c=n.splice(0,e),i.sigBytes-=a}return new r.init(c,a)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=u.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new f.HMAC.init(t,i).finalize(e)}}});var f=i.algo={};return i}(Math);return function(){var e=t,i=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp(),t=[];for(var a=0;i>a;a+=3)for(var o=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,r=0;4>r&&i>a+.75*r;r++)t.push(n.charAt(o>>>6*(3-r)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,n=this._map,a=n.charAt(64);a&&(a=t.indexOf(a),-1!=a&&(e=a));for(var a=[],o=0,r=0;e>r;r++)if(r%4){var s=n.indexOf(t.charAt(r-1))<<2*(r%4),c=n.indexOf(t.charAt(r))>>>6-2*(r%4);a[o>>>2]|=(s|c)<<24-8*(o%4),o++}return i.create(a,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function i(t,e,i,n,a,o,r){return t=t+(e&i|~e&n)+a+r,(t<<o|t>>>32-o)+e}function n(t,e,i,n,a,o,r){return t=t+(e&n|i&~n)+a+r,(t<<o|t>>>32-o)+e}function a(t,e,i,n,a,o,r){return t=t+(e^i^n)+a+r,(t<<o|t>>>32-o)+e}function o(t,e,i,n,a,o,r){return t=t+(i^(e|~n))+a+r,(t<<o|t>>>32-o)+e}for(var r=t,s=r.lib,c=s.WordArray,d=s.Hasher,s=r.algo,l=[],u=0;64>u;u++)l[u]=4294967296*e.abs(e.sin(u+1))|0;s=s.MD5=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;16>r;r++){var s=e+r,c=t[s];t[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var r=this._hash.words,s=t[e+0],c=t[e+1],d=t[e+2],u=t[e+3],f=t[e+4],p=t[e+5],y=t[e+6],h=t[e+7],m=t[e+8],g=t[e+9],v=t[e+10],_=t[e+11],b=t[e+12],$=t[e+13],k=t[e+14],P=t[e+15],C=r[0],x=r[1],w=r[2],I=r[3],C=i(C,x,w,I,s,7,l[0]),I=i(I,C,x,w,c,12,l[1]),w=i(w,I,C,x,d,17,l[2]),x=i(x,w,I,C,u,22,l[3]),C=i(C,x,w,I,f,7,l[4]),I=i(I,C,x,w,p,12,l[5]),w=i(w,I,C,x,y,17,l[6]),x=i(x,w,I,C,h,22,l[7]),C=i(C,x,w,I,m,7,l[8]),I=i(I,C,x,w,g,12,l[9]),w=i(w,I,C,x,v,17,l[10]),x=i(x,w,I,C,_,22,l[11]),C=i(C,x,w,I,b,7,l[12]),I=i(I,C,x,w,$,12,l[13]),w=i(w,I,C,x,k,17,l[14]),x=i(x,w,I,C,P,22,l[15]),C=n(C,x,w,I,c,5,l[16]),I=n(I,C,x,w,y,9,l[17]),w=n(w,I,C,x,_,14,l[18]),x=n(x,w,I,C,s,20,l[19]),C=n(C,x,w,I,p,5,l[20]),I=n(I,C,x,w,v,9,l[21]),w=n(w,I,C,x,P,14,l[22]),x=n(x,w,I,C,f,20,l[23]),C=n(C,x,w,I,g,5,l[24]),I=n(I,C,x,w,k,9,l[25]),w=n(w,I,C,x,u,14,l[26]),x=n(x,w,I,C,m,20,l[27]),C=n(C,x,w,I,$,5,l[28]),I=n(I,C,x,w,d,9,l[29]),w=n(w,I,C,x,h,14,l[30]),x=n(x,w,I,C,b,20,l[31]),C=a(C,x,w,I,p,4,l[32]),I=a(I,C,x,w,m,11,l[33]),w=a(w,I,C,x,_,16,l[34]),x=a(x,w,I,C,k,23,l[35]),C=a(C,x,w,I,c,4,l[36]),I=a(I,C,x,w,f,11,l[37]),w=a(w,I,C,x,h,16,l[38]),x=a(x,w,I,C,v,23,l[39]),C=a(C,x,w,I,$,4,l[40]),I=a(I,C,x,w,s,11,l[41]),w=a(w,I,C,x,u,16,l[42]),x=a(x,w,I,C,y,23,l[43]),C=a(C,x,w,I,g,4,l[44]),I=a(I,C,x,w,b,11,l[45]),w=a(w,I,C,x,P,16,l[46]),x=a(x,w,I,C,d,23,l[47]),C=o(C,x,w,I,s,6,l[48]),I=o(I,C,x,w,h,10,l[49]),w=o(w,I,C,x,k,15,l[50]),x=o(x,w,I,C,p,21,l[51]),C=o(C,x,w,I,b,6,l[52]),I=o(I,C,x,w,u,10,l[53]),w=o(w,I,C,x,v,15,l[54]),x=o(x,w,I,C,c,21,l[55]),C=o(C,x,w,I,m,6,l[56]),I=o(I,C,x,w,P,10,l[57]),w=o(w,I,C,x,y,15,l[58]),x=o(x,w,I,C,$,21,l[59]),C=o(C,x,w,I,f,6,l[60]),I=o(I,C,x,w,_,10,l[61]),w=o(w,I,C,x,d,15,l[62]),x=o(x,w,I,C,g,21,l[63]);r[0]=r[0]+C|0,r[1]=r[1]+x|0,r[2]=r[2]+w|0,r[3]=r[3]+I|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;i[a>>>5]|=128<<24-a%32;var o=e.floor(n/4294967296);for(i[(a+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[(a+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),t=this._hash,i=t.words,n=0;4>n;n++)a=i[n],i[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8);return t},clone:function(){var t=d.clone.call(this);return t._hash=this._hash.clone(),t}}),r.MD5=d._createHelper(s),r.HmacMD5=d._createHmacHelper(s)}(Math),function(){var e=t,i=e.lib,n=i.Base,a=i.WordArray,i=e.algo,o=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:i.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=this.cfg,n=i.hasher.create(),o=a.create(),r=o.words,s=i.keySize,i=i.iterations;r.length<s;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var d=1;i>d;d++)c=n.finalize(c),n.reset();o.concat(c)}return o.sigBytes=4*s,o}});e.EvpKDF=function(t,e,i){return o.create(i).compute(t,e)}}(),t.lib.Cipher||function(e){var i=t,n=i.lib,a=n.Base,o=n.WordArray,r=n.BufferedBlockAlgorithm,s=i.enc.Base64,c=i.algo.EvpKDF,d=n.Cipher=r.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,i,n){return("string"==typeof i?h:y).encrypt(t,e,i,n)},decrypt:function(e,i,n){return("string"==typeof i?h:y).decrypt(t,e,i,n)}}}});n.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=i.mode={},u=function(t,i,n){var a=this._iv;a?this._iv=e:a=this._prevBlock;for(var o=0;n>o;o++)t[i+o]^=a[o]},f=(n.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();f.Encryptor=f.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize;u.call(this,t,e,n),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),f.Decryptor=f.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,a=t.slice(e,e+n);i.decryptBlock(t,e),u.call(this,t,e,n),this._prevBlock=a}}),l=l.CBC=f,f=(i.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,i=i-t.sigBytes%i,n=i<<24|i<<16|i<<8|i,a=[],r=0;i>r;r+=4)a.push(n);i=o.create(a,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:l,padding:f}),reset:function(){d.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else i=t.createDecryptor,this._minBufferSize=1;this._mode=i.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var p=n.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),l=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?o.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){t=s.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var i=o.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return p.create({ciphertext:t,salt:i})}},y=n.SerializableCipher=a.extend({cfg:a.extend({format:l}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var a=t.createEncryptor(i,n);return e=a.finalize(e),a=a.cfg,p.create({ciphertext:e,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),i=(i.kdf={}).OpenSSL={execute:function(t,e,i,n){return n||(n=o.random(8)),t=c.create({keySize:e+i}).compute(t,n),i=o.create(t.words.slice(e),4*i),t.sigBytes=4*e,p.create({key:t,iv:i,salt:n})}},h=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:i}),encrypt:function(t,e,i,n){return n=this.cfg.extend(n),i=n.kdf.execute(i,t.keySize,t.ivSize),n.iv=i.iv,t=y.encrypt.call(this,t,e,i.key,n),t.mixIn(i),t},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),i=n.kdf.execute(i,t.keySize,t.ivSize,e.salt),n.iv=i.iv,y.decrypt.call(this,t,e,i.key,n)}})}(),function(){for(var e=t,i=e.lib.BlockCipher,n=e.algo,a=[],o=[],r=[],s=[],c=[],d=[],l=[],u=[],f=[],p=[],y=[],h=0;256>h;h++)y[h]=128>h?h<<1:h<<1^283;for(var m=0,g=0,h=0;256>h;h++){var v=g^g<<1^g<<2^g<<3^g<<4,v=v>>>8^255&v^99;a[m]=v,o[v]=m;var _=y[m],b=y[_],$=y[b],k=257*y[v]^16843008*v;r[m]=k<<24|k>>>8,s[m]=k<<16|k>>>16,c[m]=k<<8|k>>>24,d[m]=k,k=16843009*$^65537*b^257*_^16843008*m,l[v]=k<<24|k>>>8,u[v]=k<<16|k>>>16,f[v]=k<<8|k>>>24,p[v]=k,m?(m=_^y[y[y[$^_]]],g^=y[y[g]]):m=g=1}var P=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=i.extend({_doReset:function(){for(var t=this._key,e=t.words,i=t.sigBytes/4,t=4*((this._nRounds=i+6)+1),n=this._keySchedule=[],o=0;t>o;o++)if(i>o)n[o]=e[o];else{var r=n[o-1];o%i?i>6&&4==o%i&&(r=a[r>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r]):(r=r<<8|r>>>24,r=a[r>>>24]<<24|a[r>>>16&255]<<16|a[r>>>8&255]<<8|a[255&r],r^=P[o/i|0]<<24),n[o]=n[o-i]^r}for(e=this._invKeySchedule=[],i=0;t>i;i++)o=t-i,r=i%4?n[o]:n[o-4],e[i]=4>i||4>=o?r:l[a[r>>>24]]^u[a[r>>>16&255]]^f[a[r>>>8&255]]^p[a[255&r]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,s,c,d,a)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,l,u,f,p,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,a,o,r,s){for(var c=this._nRounds,d=t[e]^i[0],l=t[e+1]^i[1],u=t[e+2]^i[2],f=t[e+3]^i[3],p=4,y=1;c>y;y++)var h=n[d>>>24]^a[l>>>16&255]^o[u>>>8&255]^r[255&f]^i[p++],m=n[l>>>24]^a[u>>>16&255]^o[f>>>8&255]^r[255&d]^i[p++],g=n[u>>>24]^a[f>>>16&255]^o[d>>>8&255]^r[255&l]^i[p++],f=n[f>>>24]^a[d>>>16&255]^o[l>>>8&255]^r[255&u]^i[p++],d=h,l=m,u=g;h=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&f])^i[p++],m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^i[p++],g=(s[u>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^i[p++],f=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^i[p++],t[e]=h,t[e+1]=m,t[e+2]=g,t[e+3]=f},keySize:8});e.AES=i._createHelper(n)}(),t.pad.ZeroPadding={pad:function(t,e){var i=4*e;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var e=t.words,i=t.sigBytes-1;!(e[i>>>2]>>>24-i%4*8&255);)i--;t.sigBytes=i+1}},t}.call(e,i,e,t)),a=[n],o=function(t){function e(e,i,n){return t.AES.encrypt(n,e,{iv:i,mode:t.mode.CBC,padding:t.pad.ZeroPadding}).toString()}function i(e,i,n){return t.AES.decrypt(n,e,{iv:i,mode:t.mode.CBC,padding:t.pad.ZeroPadding}).toString(t.enc.Utf8)}return{getKey:function(e){var i=t.MD5(e)+"",n=i.substr(0,16);return t.enc.Utf8.parse(n)},encrypt:function(t,i){var n,a;return n=a=this.getKey(t),e(n,a,i)},encryptData:function(t,i){var n,a;n=a=this.getKey(t);for(var o in i)i.hasOwnProperty(o)&&null!==i[o]&&(i[o]=e(n,a,i[o].toString()));return i},decrypt:function(t,e){var n,a;return n=a=this.getKey(t),i(n,a,e.replace(/\s+/g,""))},decryptData:function(t,e){var n,a;n=a=this.getKey(t);for(var o in e)e.hasOwnProperty(o)&&null!==e[o]&&(e[o]=i(n,a,e[o].toString()));return e},getSrandNum:function(t,e){var i={};null!=e&&(i.seed=e),$.ajax({url:"/ajax/fetchSrandNumPc/1",data:i,type:"POST",dataType:"json",success:function(e){e.success?(e.result="string"==typeof e.data?JSON.parse(e.data):e.data,"function"==typeof t&&t(e)):$.alert(e.message)},error:function(){$.alert("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5!")}})}}}.apply(e,a),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){return{getQueryString:function(t,e){e=null==e?window.location.href:e,e=e.split("#")[0];var i=new RegExp("(^|\\?|&)"+t+"=([^&]*)(\\s|&|$)","i");return i.test(e)?decodeURIComponent(RegExp.$2.replace(/\+/g," ")):""},prasekvObj:function(t){for(var e={},i=0,n=t.length;n>i;i++)e[t[i].name]=$.trim(t[i].value);return e},verifyData:function(t,e,i,n,a){if("function"!=typeof n&&(window.MOGU&&MOGU.alert?(n=MOGU.alert,a=this):(n=window.alert,a=this)),t)if(t.success){var o="string"==typeof t.data?JSON.parse(t.data):t.data;e&&e(o)}else{var r=t.message||"\u672a\u77e5\u9519\u8bef\uff0c\u53ef\u80fd\u7684\u539f\u56e0\uff1a1.\u7f51\u7edc\u95ee\u9898 2.\u670d\u52a1\u5668\u8d85\u65f6 3.\u5176\u4ed6\u539f\u56e0";n.call(a,r),i&&i(r)}else{var r="\u672a\u77e5\u9519\u8bef, \u53ef\u80fd\u7684\u539f\u56e0\uff1a1.\u7f51\u7edc\u95ee\u9898 2.\u670d\u52a1\u5668\u8d85\u65f6 3.\u5176\u4ed6\u539f\u56e0";n.call(a,r),i&&i(r)}},setCookie:function(t,e,i){var n,a=[];return i=i||{},null==e&&(e="",i.expires=-1),"number"==typeof i.expires?(n=new Date,n.setTime(n.getTime()+1e3*i.expires)):i.expires instanceof Date&&(n=i.expires),a.push(t+"="+encodeURIComponent(e)),n&&a.push("expires="+n.toUTCString()),i.path&&a.push("path="+i.path),i.domain&&a.push("domain="+i.domain),i.secure&&a.push("secure"),document.cookie=a.join("; ")},getCookie:function(t){var e,i,n,a;if(document.cookie)for(i=document.cookie.split("; "),n=0,a=i.length;a>n;n++)if(0===i[n].indexOf(t+"=")){e=decodeURIComponent(i[n].substr(t.length+1));break}return e},mul:function(t,e){var i=0,n=t.toString(),a=e.toString();try{i+=n.split(".")[1].length}catch(o){}try{i+=a.split(".")[1].length}catch(o){}return Number(n.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,i)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";function n(t){this.timer=0,this.setting=$.extend({},{maxQueryTime:10,errorMsg:"\u67e5\u8be2\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",isShowLoading:!1,fetch:null,successCB:null,failCB:null},t),this.init()}var a=i(2);n.prototype.init=function(){this.run(this.setting.maxQueryTime)},n.prototype.run=function(t){!function e(i,n){return clearTimeout(i.timer),t--<=0?(a.hideLoading(),i.setting.failCB&&i.setting.failCB(),void $.alert(i.setting.errorMsg)):void(i.timer=setTimeout(function(){i.setting.fetch().done(function(t){return t.success?void(t.data.hasResult?(a.hideLoading(),i.setting.successCB&&i.setting.successCB(t)):(i.setting.isShowLoading&&a.showLoading(!0),e(i,t.queryDelay))):void $.alert(t.message)}).fail(function(){a.hideLoading(),i.setting.failCB&&i.setting.failCB()})},n||500))}(this)},t.exports=n},function(t,e,i){var n,a;n=[i(3),i(2),i(7)],a=function(t,e,i){var n=$("#J_proxy").hasClass("p2p"),a=function(){if(!e.islock()){e.lock();var a,o,r,s={modouUse:t.getUseModou()};if(a=$(".J_banklistItem").filter(".s-banklist-item-select").eq(0),n&&(a=$(".J_banklistItem").filter(".s-banklist-item-select").eq(1)),a.length<=0)return MOGU.alert("\u8bf7\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f"),void e.unlock();switch(o=a.attr("data-method")){case"unionPay":s.payId=t.getPayId(),s.redirect=t.getRedirect(),s.amount=Math.round(100*a.attr("data-price")),s.extraInfo=t.getExtraInfo("unionPay"),r="/ajax/unionPayIndexPc/1";break;case"cftPay":s.bankId=a.attr("data-bankid"),s.payId=t.getPayId(),s.extraInfo=t.getExtraInfo("cftPay"),r="/ajax/cftPay/pc";break;default:return MOGU.alert("\u8bf7\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f\uff5e"),void e.unlock()}window.logger&&logger.log("001010001",{payId:t.getPayId(),payType:o}),$.ajax({url:r,data:s,type:"POST",dataType:"json"}).done(function(t){e.unlock(),i.verify(t,function(t){location.href=t.redirect})})}};return{submit:function(){a()}}}.apply(e,n),!(void 0!==a&&(t.exports=a))},function(t,e,i){var n;n=function(){var t=function(t,e,i){this.$timer=t,this.startTime=e,this.timer=0,this.format=i||"%d\u5929%h\u5c0f\u65f6%i\u5206%s\u79d2";var n=this;this.timer=setInterval(function(){return n.startTime<0?void clearInterval(n.timer):void n.$timer.html(n.formatTime(n.startTime--,n.format))},1e3)};return t.prototype.formatTime=function(t,e){var i,n,a,o;return i=t/86400>>>0,n=(t/3600>>>0)-24*i,a=(t/60>>>0)-60*(24*i+n),o=t-60*(60*(24*i+n)+a),e.replace(/%d/gim,i).replace(/%h/gim,n).replace(/%i/gim,a).replace(/%s/gim,o)},t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t=window.logger||{log:function(){}};return{log:t.log}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,a;n=[i(7),i(2),i(3)],a=function(t,e,i){var n=$("#J_sec_submit"),a="s-banklist-item-select";return{$el:$(".J_lianlian_wrap"),listenEvent:function(){var t=this;$("body").on("click",".J_banklistItem",function(e){var i=$(e.currentTarget);i.hasClass("lianlian-section")||t.resetRender()}),this.$el.on("click",".bankinfo",function(e){t.hideAdd(),t.renderSelected(e),t.initBankForm(),t.bindId=$(this).data("bindid")}).on("click",".J_submit",function(e){t.secSubmit()}).on("click",".J_fst_submit",function(e){t.fstSubmit()}).on("click",".J_add",function(){t.showAdd()}),this.initLimitTxt()},init:function(){this.initDom(),this.listenEvent(),this.bindId=this.$el.find("."+a).data("bindid")},initDom:function(){this.$addWrap=this.$el.find(".J_lianlian_add"),this.$limitWrap=this.$el.find(".J_bank_limit")},resetRender:function(){this.resetSelected()},renderSelected:function(t){$(t.currentTarget).hasClass(a)||(this.resetSelected(),$(t.currentTarget).addClass(a),n.stop().slideDown(200))},resetSelected:function(){this.$el.find(".bankinfo").removeClass(a),n.hide()},initBankForm:function(){},notice:function(t,e){var i=this.$el.find(".J_notice");e?i.addClass("s-notice-error"):i.removeClass("s-notice-error"),i.html(t)},submit:function(i){var n=this;$.ajax({url:"/ajax/lianlianPay/pc",data:i,type:"POST",dataType:"json"}).done(function(e){t.verify(e,function(t){console.log(t),$("body").append(t.lianlianForm)},n.notice,n)}).always(function(){e.unlock()})},fstSubmit:function(){if(!e.islock()){e.lock();var n=this,a=t.prasekvObj(n.$el.find("form").filter(":visible").serializeArray());if(a.extraInfo=i.getExtraInfo("lianlianpay_1st"),""===a.cardNo)return n.notice("\u8bf7\u8f93\u5165\u94f6\u884c\u5361\u5361\u53f7",!0),n.$el.find("input[name=cardNo]").trigger("focus"),void e.unlock();a.payId=i.getPayId(),n.notice(""),n.submit(a)}},secSubmit:function(){if(!e.islock()){e.lock();var t=this,n={payId:i.getPayId(),bindId:t.bindId,extraInfo:i.getExtraInfo("lianlianpay_2nd")};t.submit(n)}},showAdd:function(){this.resetSelected(),this.$addWrap.stop().slideDown(300)},hideAdd:function(){this.$addWrap.hide()},showLimit:function(){this.$limitWrap.show()},hideLimit:function(){this.$limitWrap.hide()},initLimitTxt:function(){var t=this;this.$limitWrap.on("mouseover",".bank-list a",function(t){$(".J_bankshow").text($(this).data("str"))}).on("mouseout",function(t){$(".J_bankshow").text("\u9f20\u6807\u4e0a\u79fb\uff0c\u67e5\u770b\u94f6\u884c\u9650\u989d\u8bf4\u660e")}),$(".J_limit").on("click",function(){event.stopPropagation(),t.showLimit()})}}}.apply(e,n),!(void 0!==a&&(t.exports=a))}])}),"function"==typeof define&&define.amd&&require(["pages/cashier-v4/index"]);window.MOGU=window.MOGU||{},function(t,n){var e={};e.Util={mask:function(){var n=t(".light_box_fullbg");n.length<=0&&(n=t(['<div class="light_box_fullbg"></div>'].join("")),t("body").append(n))},show:function(n,e){var l,i,o,a=t("#vp_wrap"),c=t(".light_box_fullbg").eq(0);a.length<=0&&(a=t(['<div class="vp_wrap" id="vp_wrap">','<h5 class="vp_t"></h5>','<a href="javascript:;" class="vp_cls">\xd7</a>','<div class="v_pop_box"></div>',"</div>"].join("")),t("body").append(a),c.off("click").on("click",function(){clearTimeout(o),a.addClass("vp_shake"),o=setTimeout(function(){a.removeClass("vp_shake")},500)})),e.isShowCloser?a.find(".vp_cls").show():a.find(".vp_cls").hide(),a.find(".vp_t").html(e.title),i={alert:function(n){return l=t(".vp_alert"),l.length<=0?l=t(['<div class="vp_alert vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+n.btn.theme+' vp_ok">'+n.btn.text+"</a>","</div>"].join("")):l.find(".vp_btn").removeClass("vp_btn_red").removeClass("vp_btn_normal").addClass("vp_btn_"+n.btn.theme).html(n.btn.text),l.show().find(".vp_cnt").html(n.content),l},confirm:function(n){if(l=t(".vp_cfm"),l.length<=0)l=t(['<div class="vp_cfm vp_inner">','<p class="vp_cnt"></p>','<a href="javascript:;" class="vp_btn vp_btn_'+n.btn1.theme+' vp_ok">'+n.btn1.text+"</a>",'<a href="javascript:;" class="vp_btn vp_btn_'+n.btn2.theme+' vp_cancel">'+n.btn2.text+"</a>","</div>"].join(""));else{var e=l.find(".vp_btn");e.removeClass("vp_btn_red").removeClass("vp_btn_normal"),e.eq(0).addClass("vp_btn_"+n.btn1.theme).html(n.btn1.text),e.eq(1).addClass("vp_btn_"+n.btn2.theme).html(n.btn2.text)}return l.show().find(".vp_cnt").html(n.content),l}},a.find(".v_pop_box").append(i[n](e)),a.css({display:"block",opacity:0}).css({"margin-left":-a.width()/2-1,"margin-top":-a.height()/2-1,opacity:1}),c.show()},close:function(n,e){t(".light_box_fullbg").eq(0).hide(),t("#vp_wrap").find(".vp_inner").hide().end().hide(),void 0!==e&&"function"==typeof e&&e(n)}},t.alert=function(n,l,i){var o=t.extend(!0,{title:"\u63d0\u793a",content:n,btn:{text:"\u786e \u5b9a",theme:"red",val:void 0},isShowCloser:!0,close_val:void 0},i),a=function(){t("#vp_wrap").off("click").on("click",".vp_ok",function(t){t.preventDefault(),e.Util.close(o.btn.val,l)}).on("click",".vp_cls",function(t){t.preventDefault(),e.Util.close(o.close_val,l)})};!function(){e.Util.mask(),e.Util.show("alert",o),a()}()},t.confirm=function(n,l,i){var o=t.extend(!0,{title:"\u63d0\u793a",content:n,btn1:{text:"\u786e \u5b9a",theme:"red",val:!0},btn2:{text:"\u53d6 \u6d88",theme:"normal",val:!1},isShowCloser:!0,close_val:!1},i),a=function(){t("#vp_wrap").off("click").on("click",".vp_ok",function(t){t.preventDefault(),e.Util.close(o.btn1.val,l)}).on("click",".vp_cancel",function(t){t.preventDefault(),e.Util.close(o.btn2.val,l)}).on("click",".vp_cls",function(t){t.preventDefault(),e.Util.close(o.close_val,l)})};!function(){e.Util.mask(),e.Util.show("confirm",o),a()}()},n.MOGU.alert=t.alert,n.MOGU.confirm=t.confirm}(jQuery,window);!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pc/common/nav/index",[],e):"object"==typeof exports?exports["pc/common/nav/index"]=e():t["pc/common/nav/index"]=e()}(this,function(){return function(t){function e(i){if(a[i])return a[i].exports;var o=a[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";a(1),a(2),a(4),a(5)},function(t,e,a){var i,o;i=[],o=function(){function t(t,e,a){function i(){var e=o.shift();e&&t.apply(e.context,e.arguments),0===o.length&&(clearInterval(s),s=null)}var o=[],s=null;return function(){o.push({context:a||this,arguments:[].slice.call(arguments)}),s||(i(),s=setInterval(i,e))}}function e(t,e,a){return parseInt(t+"",0|e).toString(0|a)}function a(){var t=$(".J_sitenav .wrap"),e=(r.find(".mgj-my-cart"),r.find(".mgj-my-avatar"),['<a href="http://www.mogujie.com" rel="nofollow" class="home fl">\u8611\u83c7\u8857\u9996\u9875</a>','<ul class="header_top">',"{{? it.name}}",'<li class="s1 has_icon user_meta">','<a rel="nofollow" href="javascript:;">',"{{=it.name}}","</a>",'<a rel="nofollow" href="http://www.mogujie.com/member" target="_blank">',"{{?it.userLevel}}",'<span class="level level',"{{=it.userLevel - 1}}",'">&nbsp;</span>',"{{?}}","</a>",'<i class="icon_delta"></i>','<ol class="ext_mode" id="menu_personal">','<li class="s2">','<a target="_blank" rel="nofollow" href="http://www.mogujie.com/settings/personal">\u4e2a\u4eba\u8bbe\u7f6e</a>',"</li>",'<li class="s2">','<a target="_blank" rel="nofollow" href="http://www.mogujie.com/settings/bind">\u8d26\u53f7\u7ed1\u5b9a</a>',"</li>",'<li class="s2">','<a rel="nofollow" href="//www.mogujie.com/logout">\u9000\u51fa</a>',"</li>","</ol>","</li>",'<li class="s1 has_line message_center">','<a rel="nofollow" href="javascript:;" class="ext_module mogutalk_btn J_msg open_msg micon" data-from="shopwidget_message" data-trace="global,shopwidget_message,click">','\u6d88\u606f<span class="num m_num"></span>',"</a>","</li>",'<li class="s1 has_icon has_line user_fav">','<a rel="nofollow" href="javascript:;">\u6211\u7684\u6536\u85cf</a>','<i class="icon_delta"></i>','<ul class="ext_mode">','<li class="s2">','<a target="_blank" rel="nofollow" href="http://favorite.mogujie.com/active/goodsfavs">\u6536\u85cf\u7684\u5546\u54c1</a>',"</li>",'<li class="s2">','<a target="_blank" rel="nofollow" href="http://favorite.mogujie.com/active/shopfavs">\u6536\u85cf\u7684\u5c0f\u5e97</a>',"</li>",'<li class="s2">','<a target="_blank" rel="nofollow" href="http://track.mogujie.com">\u6d4f\u89c8\u8db3\u8ff9</a>',"</li>","</ul>","</li>","{{??}}",'<li class="s1 show-nologin">','<a rel="nofollow" href="http://www.mogujie.com/register/">\u6ce8\u518c</a>',"</li>",'<li class="s1 show-nologin">','<a rel="nofollow" href="http://www.mogujie.com/login/">\u767b\u5f55</a>',"</li>","{{?}}",'<li class="s1 myorder has_line">','<a href="http://order.mogujie.com/order/list4buyer" target="_blank" class="text display_u" ref="nofollow">\u6211\u7684\u8ba2\u5355</a>',"</li>",'<li class="s1 has_line shopping_cart_v2">','<a class="cart_info_wrap" href="http://cart.mogujie.com/cart/mycart" target="_blank" ref="nofollow">','<span class="cart_info">\u8d2d\u7269\u8f66</span>',"</a>",'<i class="icon_delta"></i>','<span class="shopping_cart_loading"></span>',"</li>",'<li class="s1 has_line has_icon custom_item">','<a rel="nofollow" href="http://www.mogujie.com/service/" ref="nofollow" target="_blank">\u5ba2\u6237\u670d\u52a1</a>','<i class="icon_delta"></i>','<ol class="ext_mode">','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.mogujie.com/help">\u6d88\u8d39\u8005\u670d\u52a1</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/shopadmin/help/home/">\u5546\u5bb6\u670d\u52a1</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.mogujie.com/rule/index">\u89c4\u5219\u4e2d\u5fc3</a></li>',"</ol>","</li>",'<li class="s1 has_line has_icon myxiaodian">','<a href="http://www.xiaodian.com" ref="nofollow" target="_blank" class="text display_u">\u6211\u7684\u5c0f\u5e97</a>','<i class="icon_delta"></i>','<ol class="ext_mode">','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/shopadmin/shopface">\u7ba1\u7406\u540e\u53f0</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://bbs.xiaodian.com">\u5546\u5bb6\u793e\u533a</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://peixun.xiaodian.com">\u5546\u5bb6\u57f9\u8bad</a></li>','<li class="s2"><a target="_blank" rel="nofollow" href="http://www.xiaodian.com/pc/joinmarket">\u5e02\u573a\u5165\u9a7b</a></li>',"</ol>","</li>","</ul>"].join(""));s.fn.getUserData(function(a,i){a||(t.html(s.ui.getTemplate(e,i)),$("body").trigger("userdatarecieve",[i]))})}function i(t){$("#header .header_top"),$(".mgj_rightbar .mgj-my-cart"),$(".mgj_rightbar .mgj-my-avatar");t.uname&&t.uname.length>0&&t.shopFaved&&$(".J-shop-follow").addClass("shop-followed").html("\u5df2\u6536\u85cf"),t.jumpUrl&&t.jumpUrl.length>0&&(location.href=t.jumpUrl)}function o(){function t(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(e);return null!=a?unescape(a[2]):null}function e(t,e){var a=new Date;a.setTime(a.getTime()+31536e6),document.cookie=t+"="+escape(e)+";expires="+a.toGMTString()}function a(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?unescape(e[2]):null}var i=$("#menu_personal"),o=$(".dapei_tip",i),s=$(".dapei_btn",i);s.click(function(){e("dapei_tip_hidden",!0),o.hide(),setTimeout(function(){i.mouseleave(function(){$(this).removeClass("ext_mode_show")})},1e3)}),null!=t("isDaPeiShi")?i.addClass("ext_mode_show"):"true"==$("#isDaPeiShi").val()&&null==a("dapei_tip_hidden")&&i.addClass("ext_mode_show")}var s=window.MoGu||{};s.fn=s.fn||{},window.log_stat_url_tmp=window.log_stat_url_tmp||"",$.extend(s.fn,{greyTest:function(t,e){$.ajax({url:"http://www.mogujie.com/trade/abtest/service/getBucket",data:{biz:t},type:"get",dataType:"jsonp",success:function(t){$.isFunction(e)&&e(null,t)},fail:function(t){$.isFunction(e)&&e(t)}})},getUserData:t(function(t){if(s.data=s.data||{},s.data.userData)$.isFunction(t)&&t(null,s.data.userData);else{var e=location.protocol||"http:";$.ajax({url:e+"//portal.mogujie.com/api/profile/baseinfo",dataType:"jsonp",type:"get",success:function(e){if(1001==e.status.code){var a=e.result;s.data.userData=a,$.isFunction(t)&&t(null,a)}else{var a={};s.data.userData=a,$.isFunction(t)&&t(null,a)}},fail:function(e){$.isFunction(t)&&t(e)}})}},100)}),s.fn.id2url=function(t,a){var i="",o=a||1;if(t=""+t,24==t.length)return t;switch(o){case 1:i=o+e(2*t+56,10,36);break;default:i=!1}return i};var n=$(".header_2015"),r=$(".mgj_rightbar");a(),window.ESIMOGUPROFILE&&i(MOGUPROFILE),o();var l=(s.ui.getdoT(),{});l.Tpl={headerMsgTpl:[]},l.View={init:function(){this.addEvent()},addEvent:function(){var t=this;$("body").on("cinfodatarecieve",function(e,a){if(a){var i=a,o={};o.twitterNew=parseInt(i.cmessageNew),o.catmeNew=parseInt(i.a),o.cfavedNew=parseInt(i.b),o.cmsgNew=parseInt(i.c),o.fansNew=parseInt(i.d),o.csysmsgNew=parseInt(i.e),o.cactiveNew=parseInt(i.f),o.intelligent=parseInt(i.g),o.ccartNew=parseInt(i.h),o.chatNew=parseInt(i.i),o.ccouponShop=parseInt(i.q),o.ccouponPlatform=parseInt(i.j),$.each(t.renders,function(t,e){$.isFunction(e)&&e(o)})}})},renders:{renderNavCart:function(t){var e=n.find(".shopping_cart_v2");if(e.length)if(t.ccartNew>0){var a=t.ccartNew>99?"99+":t.ccartNew,i='<span class="cart_info">\u8d2d\u7269\u8f66<b class="num">'+a+"</b>\u4ef6</span>";e.find(".cart_info_wrap").html(i).show()}else e.find(".cart_info_wrap").html('<span class="cart_info">\u8d2d\u7269\u8f66</span>')},renderSideBarCart:function(t){var e=r.find(".mgj-my-cart");e.length&&(t.ccartNew>0?e.find(".num").html(t.ccartNew>99?"99+":t.ccartNew).show():e.find(".num").hide())},renderSideBarCoupon:function(t){var e=r.find(".mgj-my-coupon");if(e.length){var a=parseInt(t.ccouponShop+t.ccouponPlatform,10);a?e.find(".num").html(a>99?"99+":a).show():e.find(".num").hide()}},renderNavMsg:function(t){var e=n.find(".mogutalk_btn");e.length&&(t.chatNew?e.find(".num").html(t.chatNew>99?"99+":t.chatNew).show():e.find(".num").hide())}}},l.View.init();var c=function(){this.highClassName="s1_on"};c.prototype={add2Collection:function(t){$.browser.msie&&6==$.browser.version&&$.isPlainObject(t)&&t.wrap.length&&t.target&&this._registerEvent(t)},_registerEvent:function(t){var e=this;t.wrap.on("mouseenter",t.target,function(t){$(this).addClass(e.highClassName).siblings().removeClass(e.highClassName)}),t.wrap.on("mouseleave",t.target,function(t){$(this).removeClass(e.highClassName)})}},(new c).add2Collection({wrap:$(".header_top"),target:".s1"})}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,a){var i,o;i=[a(3)],o=function(t){var e=1260,a=$(".mgj_rightbar"),i=MoGu.ui.getTemplate(t);a.html(i);var o={goTop:a.find(".mgj-back2top"),sidebar:a,sidebarCart:a.find(".mgj-my-cart"),init:function(){return"Microsoft Internet Explorer"==navigator.appName&&"MSIE6.0"==navigator.appVersion.split(";")[1].replace(/[ ]/g,"")?void $(".mgj_rightbar").hide():(this.sidebar.show(),void(this.goTop.length&&(this.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body_wrap"),this.offsetEl.length&&(this.win=$(window),this.setSidebarPos(),this.addEvent()))))},addEvent:function(){var t=this;this.win.on("resize",function(e){t.setSidebarPos()});var a=['<a target="_blank" href="http://www.mogujie.com/member/" rel="nofollow">','<div class="img">','<img width="20" height="20" src="{{=it.avatar}}_48x48.jpg" alt="">',"</div>","</a>"].join("");$("body").on("userdatarecieve",function(t,e){e.avatar&&$(".mgj_rightbar .mgj-my-avatar").html(MoGu.ui.getTemplate(a,e))}),this.sidebarCart.off().on("mouseenter",function(){t.win.width()>e||t.showSidebar()}),this.sidebar.off().on("mouseleave",function(){t.win.width()>e||t.hideSidebar()}),this.win.on("scroll",function(e){$(this).scrollTop()?t.goTop.addClass("show"):t.goTop.removeClass("show")}),this.goTop.on("click",function(e){return t.win.scrollTop(0),!1})},setSidebarPos:function(){var t=(this.offsetEl.offset(),this.offsetEl.outerWidth(),this.win.width());e>t?this.hideSidebar():this.showSidebar()},showSidebar:function(){this.sidebarCart.stop().animate({left:"0"}),this.goTop.stop().animate({left:"0"}),this.sidebar.removeClass("mini").stop().animate({right:"0"})},hideSidebar:function(){this.sidebarCart.stop().animate({left:"-30px"}),this.goTop.stop().animate({left:"-30px"}),this.sidebar.addClass("mini").stop().animate({right:"-30px"})}};o.init()}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports='<!--\u7a7a\u7684\u53f3\u4fa7\u8fb9\u680f-->\n<div id="mgj_rightbar_top_blank" class="mgj_rightbar_960"></div>\n<!--\u65b9\u4fbf\u5b9amargin\u7684\u7a7adediv-->\n<div id="mgj_rightbar_blank_div"></div>\n<!--\u7528\u6237\u5934\u50cf-->\n<div class="sidebar-item mgj-my-avatar"></div>\n<!--\u8d2d\u7269\u8f66-->\n<div class="sidebar-item mgj-my-cart">\n    <a target="_blank" href="http://cart.mogujie.com/cart/mycart" rel="nofollow">\n        <i class="s-icon"></i>\n        <div class="s-txt">\u8d2d\u7269\u8f66</div>\n        <div class="num"></div>\n    </a>\n</div>\n<!--\u4f18\u60e0\u5238-->\n<div class="sidebar-item mgj-my-coupon">\n    <a target="_blank" rel="nofollow" href="http://www.mogujie.com/trade/promotion/user/shopcoupon/">\n        <i class="s-icon"></i>\n        <div class="s-txt">\u4f18\u60e0\u5238</div>\n        <div class="num"></div>\n    </a>\n</div>\n<!--\u94b1\u5305-->\n<div class="sidebar-item mgj-my-wallet">\n    <a target="_blank" rel="nofollow" href="https://payuserp.mogujie.com/wallet/home">\n        <i class="s-icon"></i>\n        <div class="s-txt">\u94b1\u5305</div>\n    </a>\n</div>\n<!--\u8db3\u8ff9-->\n<div class="sidebar-item mgj-my-browserlog">\n    <a target="_blank" rel="nofollow" href="http://track.mogujie.com">\n        <i class="s-icon"></i>\n        <div class="s-txt">\u8db3\u8ff9</div>\n    </a>\n</div>\n<div class="sideBottom">\n    <!--\u56de\u5230\u9876\u90e8-->\n    <div class="sidebar-item mgj-back2top"><a rel="nofollow" href="javascript:;"><i class="s-icon"></i></a></div>\n</div>\n'},function(t,e,a){var i,o;i=[],o=function(){var t={},e=['<div class="shop_cart_info" style="display: none;">','<ul class="max_height_ie6">',"{{~ it.list:item:index}}","{{?index < it.topNum}}","<li>",'<a rel="nofollow" href="http://shop.mogujie.com/detail/{{=item.itemIdEsc}}" target="_blank" class="imgbox">',"{{?item.imgUrl}}",'<img src="{{=item.imgUrl}}" alt="{{=item.title}}" width="45">',"{{?}}","</a>",'<a rel="nofollow" href="http://shop.mogujie.com/detail/{{=item.itemIdEsc}}" target="_blank" class="title">{{=item.title}}</a>',"{{?item.skuAttributes}}",'<span class="info">{{~ item.skuAttributes:sku:key }}{{=sku.key}}: {{=sku.value}}  {{~}}</span>',"{{?}}",'<span class="price">\xa5{{=(item.nowprice/100)}}</span>','<span data-stockid="{{=item.stockIdEsc}}" class="del">\u5220\u9664</span>',"</li>","{{?}}","{{~}}","</ul>",'<div class="subbox">',"{{?it.total-it.topNum>0}}",'<p class="sub_info">\u8d2d\u7269\u8f66\u91cc\u8fd8\u6709<b class="num">{{=it.total - it.topNum}}</b>\u4ef6\u5546\u54c1</p>',"{{?}}",'<div class="fr">','<a rel="nofollow" href="http://cart.mogujie.com/cart/mycart" target="_blank" class="goel">\u67e5\u770b\u8d2d\u7269\u8f66</a>',"</div>","</div>","</div>"].join("");t.Model={goodsList:"",offlineCartCookies:"",offlineCartCookiesOld:"",goodsNum:0,getGoodsList:function(t){var e=this;if(e.goodsList)return void($.isFunction(t)&&t(this.goodsList));var a=[];if(MoGu.util.getCookie("trade_cart_mogujie")?e.offlineCartCookies=MoGu.util.getCookie("trade_cart_mogujie"):MoGu.util.getCookie("mogu_trade_cart")&&(e.offlineCartCookiesOld=MoGu.util.getCookie("mogu_trade_cart")),e.offlineCartCookies){var i=JSON.parse(e.offlineCartCookies);for(var o in i){var s={};s.stockId=o;for(var n in i[o])s[n]=i[o][n];a.push(s)}}if(e.offlineCartCookiesOld)for(var i=e.offlineCartCookiesOld.split(","),s={},n=0;n<i.length;n++)if(i[n].indexOf("#")>-1){var r=i[n].split("#");s.number=r[0],s.lastAddCartTime=r[1],a.push(s),s={}}else s.stockId=MoGu.fn.id2url(i[n]);var l={marketType:"market_mogujie",topNum:e.maxShowNum,offlineCartItems:JSON.stringify(a)};$.ajax({url:"/api/cart/miniCartList",data:l,dataType:"json",type:"post",success:function(a){1001==a.status.code?(e.goodsList=a.result.cartItems?a.result.cartItems:[],e.goodsNum=a.result.totalItemNum||0,$.isFunction(t)&&t(e.goodsList)):$.isFunction(t)&&t([])}})},delCookie:function(t,e){var a={};if(this.offlineCartCookies){var i=JSON.parse(this.offlineCartCookies);for(var o in i)o!=t&&(a[o]=i[o]);MoGu.util.setCookie("trade_cart_mogujie",JSON.stringify(a),{expires:15,path:"/",domain:".mogujie.com"})}},delGood:function(t,e){var a=this;$.post("/api/cart/deleteCart",{marketType:"market_mogujie",stockId:t},function(i){if(1001==i.status.code){var o=i.status.isLogin;o||a.delCookie(t),$.isFunction(e)&&e()}else alert(i.status.msg)},"json")}},t.View={wrap:$(".header_2015"),init:function(){this.wrap.length&&(this.extendInfo=null,this.loading=this.wrap.find(".shopping_cart_loading"),this.maxShowNum=5,this.addEvent())},addEvent:function(){var a=this;this.wrap.find(".cart_info_wrap").attr("href","http://cart.mogujie.com/cart/mycart"),$(".mgj_rightbar .mgj-my-cart a").attr("href","http://cart.mogujie.com/cart/mycart"),a.wrap.off("mouseenter").on("mouseenter",".shopping_cart_v2",function(i){var o=$(this);o.addClass("sc_on"),a.loading.show(),a.extendInfo&&a.extendInfo.length?(a.loading.hide(),a.extendInfo.show()):t.Model.getGoodsList(function(i){var s={list:i,topNum:a.maxShowNum,total:t.Model.goodsNum};if(i.length){var n=MoGu.ui.getTemplate(e,s);a.extendInfo=$(n)}else{var n='<div class="shop_cart_info"></div>';a.extendInfo=$(n),a.extendInfo.addClass("empty_cart").text("\u8d2d\u7269\u8f66\u91cc\u6ca1\u6709\u5546\u54c1\uff01")}o.append(a.extendInfo),a.loading.hide(),a.extendInfo.show()})}),a.wrap.off("mouseleave").on("mouseleave",".shopping_cart_v2",function(t){a.extendInfo&&a.extendInfo.hide()&&$(this).removeClass("sc_on")}),a.wrap.off("click").on("click",".shopping_cart_v2 .del",function(){var e=$(this),i=e.data("stockid"),o=(a.wrap.find(".num"),e.parent()),s=t.Model.goodsNum;e.hasClass("disabled")||(e.addClass("disabled"),t.Model.delGood(i,function(){s--,o.fadeOut("slow",function(){e.removeClass("disabled"),s?(o.remove(),t.Model.goodsNum=s):(a.extendInfo=$(".shop_cart_info"),a.extendInfo.addClass("empty_cart").text("\u8d2d\u7269\u8f66\u91cc\u6ca1\u6709\u5546\u54c1\uff01"))})}))})}},t.View.init()}.apply(e,i),!(void 0!==o&&(t.exports=o))},function(t,e,a){var i;i=function(){var t={wrap:$(".back2top_wrap"),init:function(){this.wrap.length&&(this.offsetEl=$(".wrap").length?$(".wrap").eq(0):$("#body"),this.offsetEl.length&&(this.win=$(window),this.goTop=this.wrap.find(".go_top"),this.setPos(),this.wrap.show(),this.addEvent()))},addEvent:function(){var t=this;this.win.on("resize",function(e){t.setPos()}),this.win.on("scroll",function(e){$(this).scrollTop()?t.goTop.addClass("show"):t.goTop.removeClass("show")}),this.goTop.on("click",function(e){return t.win.scrollTop(0),!1})},setPos:function(){var t=this.offsetEl.offset(),e=this.offsetEl.outerWidth(),a=this.win.width(),i=this.wrap.width(),o=15,s=t.left+e+20;i+s+o>a?this.wrap.css({left:"auto",right:o}):this.wrap.css({left:s,right:"auto"})}};t.init()}.call(e,a,e,t),!(void 0!==i&&(t.exports=i))}])}),"function"==typeof define&&define.amd&&require(["pc/common/nav/index"]);